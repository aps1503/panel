{"header": "{\"msgid\": \"3661\", \"msgtype\": \"PATCH-DOC\"}", "metadata": "{}", "content": "{\"events\": [{\"attr\": \"children\", \"kind\": \"ModelChanged\", \"model\": {\"id\": \"2655\", \"type\": \"Column\"}, \"new\": [{\"id\": \"2656\", \"type\": \"Row\"}, {\"id\": \"3474\", \"subtype\": \"Figure\", \"type\": \"Plot\"}, {\"id\": \"2835\", \"type\": \"Row\"}]}], \"references\": [{\"attributes\": {\"children\": [{\"id\": \"2664\", \"type\": \"Select\"}, {\"id\": \"2665\", \"type\": \"Button\"}], \"margin\": [0, 0, 0, 0], \"name\": \"Column08226\"}, \"id\": \"2663\", \"type\": \"Column\"}, {\"attributes\": {\"fill_alpha\": {\"value\": 0.2}, \"fill_color\": {\"field\": \"node_color\", \"transform\": {\"id\": \"3502\", \"type\": \"CategoricalColorMapper\"}}, \"line_alpha\": {\"value\": 0.2}, \"size\": {\"units\": \"screen\", \"value\": 15}}, \"id\": \"3507\", \"type\": \"Circle\"}, {\"attributes\": {}, \"id\": \"3528\", \"type\": \"NodesAndLinkedEdges\"}, {\"attributes\": {\"children\": [{\"id\": \"2660\", \"type\": \"Column\"}, {\"id\": \"2663\", \"type\": \"Column\"}], \"margin\": [0, 0, 0, 0], \"name\": \"Row07108\"}, \"id\": \"2659\", \"type\": \"Row\"}, {\"attributes\": {\"js_property_callbacks\": {\"change:indices\": [{\"id\": \"3539\", \"type\": \"CustomJS\"}]}}, \"id\": \"3531\", \"type\": \"Selection\"}, {\"attributes\": {}, \"id\": \"3550\", \"type\": \"Selection\"}, {\"attributes\": {\"children\": [{\"id\": \"2837\", \"type\": \"Spinner\"}, {\"id\": \"2838\", \"type\": \"Spinner\"}], \"margin\": [0, 0, 0, 0], \"name\": \"Row08238\"}, \"id\": \"2836\", \"type\": \"Row\"}, {\"attributes\": {}, \"id\": \"3549\", \"type\": \"UnionRenderers\"}, {\"attributes\": {\"data_source\": {\"id\": \"3504\", \"type\": \"ColumnDataSource\"}, \"glyph\": {\"id\": \"3513\", \"type\": \"MultiLine\"}, \"hover_glyph\": {\"id\": \"3515\", \"type\": \"MultiLine\"}, \"muted_glyph\": null, \"nonselection_glyph\": {\"id\": \"3514\", \"type\": \"MultiLine\"}, \"selection_glyph\": null, \"view\": {\"id\": \"3517\", \"type\": \"CDSView\"}}, \"id\": \"3516\", \"type\": \"GlyphRenderer\"}, {\"attributes\": {\"callback\": null, \"disabled\": true, \"margin\": [5, 10, 5, 10], \"min_width\": 125, \"options\": [], \"width\": 125}, \"id\": \"2661\", \"type\": \"Select\"}, {\"attributes\": {\"callback\": null, \"disabled\": true, \"icon\": null, \"label\": \"Previous\", \"margin\": [5, 10, 5, 10], \"min_width\": 125, \"width\": 125}, \"id\": \"2662\", \"type\": \"Button\"}, {\"attributes\": {\"callback\": null, \"js_property_callbacks\": {\"change:value\": [{\"id\": \"2851\", \"type\": \"CustomJS\"}]}, \"margin\": [5, 10, 5, 10], \"min_width\": 125, \"options\": [\"Multiply\", \"Add\"], \"value\": \"Multiply\", \"width\": 125}, \"id\": \"2664\", \"type\": \"Select\"}, {\"attributes\": {\"line_width\": {\"value\": 2}}, \"id\": \"3515\", \"type\": \"MultiLine\"}, {\"attributes\": {\"callback\": null, \"icon\": null, \"label\": \"Next\", \"margin\": [5, 10, 5, 10], \"min_width\": 125, \"width\": 125}, \"id\": \"2665\", \"type\": \"Button\"}, {\"attributes\": {\"edge_renderer\": {\"id\": \"3516\", \"type\": \"GlyphRenderer\"}, \"inspection_policy\": {\"id\": \"3528\", \"type\": \"NodesAndLinkedEdges\"}, \"layout_provider\": {\"id\": \"3505\", \"type\": \"StaticLayoutProvider\"}, \"node_renderer\": {\"id\": \"3511\", \"type\": \"GlyphRenderer\"}, \"selection_policy\": null}, \"id\": \"3518\", \"type\": \"GraphRenderer\"}, {\"attributes\": {\"line_width\": {\"value\": 2}}, \"id\": \"3513\", \"type\": \"MultiLine\"}, {\"attributes\": {\"data_source\": {\"id\": \"3503\", \"type\": \"ColumnDataSource\"}, \"glyph\": {\"id\": \"3506\", \"type\": \"Circle\"}, \"hover_glyph\": {\"id\": \"3509\", \"type\": \"Circle\"}, \"muted_glyph\": {\"id\": \"3510\", \"type\": \"Circle\"}, \"nonselection_glyph\": {\"id\": \"3507\", \"type\": \"Circle\"}, \"selection_glyph\": {\"id\": \"3508\", \"type\": \"Circle\"}, \"view\": {\"id\": \"3512\", \"type\": \"CDSView\"}}, \"id\": \"3511\", \"type\": \"GlyphRenderer\"}, {\"attributes\": {\"align\": null, \"below\": [{\"id\": \"3483\", \"type\": \"LinearAxis\"}], \"center\": [{\"id\": \"3487\", \"type\": \"Grid\"}, {\"id\": \"3492\", \"type\": \"Grid\"}], \"left\": [{\"id\": \"3488\", \"type\": \"LinearAxis\"}], \"margin\": null, \"min_border_bottom\": 10, \"min_border_left\": 10, \"min_border_right\": 10, \"min_border_top\": 10, \"min_width\": 400, \"outline_line_alpha\": {\"value\": 0}, \"plot_height\": 100, \"plot_width\": null, \"renderers\": [{\"id\": \"3518\", \"type\": \"GraphRenderer\"}, {\"id\": \"3537\", \"type\": \"GlyphRenderer\"}], \"sizing_mode\": \"stretch_width\", \"title\": {\"id\": \"3475\", \"type\": \"Title\"}, \"toolbar\": {\"id\": \"3494\", \"type\": \"Toolbar\"}, \"toolbar_location\": null, \"x_range\": {\"id\": \"3470\", \"type\": \"Range1d\"}, \"x_scale\": {\"id\": \"3479\", \"type\": \"LinearScale\"}, \"y_range\": {\"id\": \"3471\", \"type\": \"Range1d\"}, \"y_scale\": {\"id\": \"3481\", \"type\": \"LinearScale\"}}, \"id\": \"3474\", \"subtype\": \"Figure\", \"type\": \"Plot\"}, {\"attributes\": {\"graph_layout\": {\"0\": [0, 0.5], \"1\": [1, 0.25], \"2\": [1, 0.75], \"3\": [2, 0.5]}}, \"id\": \"3505\", \"type\": \"StaticLayoutProvider\"}, {\"attributes\": {\"text\": \"\", \"text_color\": {\"value\": \"black\"}, \"text_font_size\": {\"value\": \"12pt\"}}, \"id\": \"3475\", \"type\": \"Title\"}, {\"attributes\": {}, \"id\": \"3479\", \"type\": \"LinearScale\"}, {\"attributes\": {\"line_alpha\": {\"value\": 0.2}, \"line_width\": {\"value\": 2}}, \"id\": \"3514\", \"type\": \"MultiLine\"}, {\"attributes\": {\"fill_color\": {\"field\": \"node_color\", \"transform\": {\"id\": \"3502\", \"type\": \"CategoricalColorMapper\"}}, \"line_color\": {\"value\": \"#1f77b4\"}, \"size\": {\"units\": \"screen\", \"value\": 15}}, \"id\": \"3508\", \"type\": \"Circle\"}, {\"attributes\": {}, \"id\": \"3481\", \"type\": \"LinearScale\"}, {\"attributes\": {\"axis_label\": \"x\", \"axis_label_text_font_size\": {\"value\": \"10pt\"}, \"bounds\": \"auto\", \"formatter\": {\"id\": \"3499\", \"type\": \"BasicTickFormatter\"}, \"major_label_orientation\": \"horizontal\", \"ticker\": {\"id\": \"3484\", \"type\": \"BasicTicker\"}, \"visible\": false}, \"id\": \"3483\", \"type\": \"LinearAxis\"}, {\"attributes\": {\"fill_color\": {\"field\": \"node_color\", \"transform\": {\"id\": \"3502\", \"type\": \"CategoricalColorMapper\"}}, \"line_color\": {\"value\": \"#1f77b4\"}, \"size\": {\"units\": \"screen\", \"value\": 15}}, \"id\": \"3510\", \"type\": \"Circle\"}, {\"attributes\": {\"source\": {\"id\": \"3503\", \"type\": \"ColumnDataSource\"}}, \"id\": \"3512\", \"type\": \"CDSView\"}, {\"attributes\": {}, \"id\": \"3484\", \"type\": \"BasicTicker\"}, {\"attributes\": {\"callback\": null, \"data\": {\"Stage\": [\"Input\", \"Add\", \"Multiply\", \"Result\"], \"State\": [\"active\", \"inactive\", \"next\", \"inactive\"], \"x\": [0, 1, 1, 2], \"y\": {\"__ndarray__\": \"AAAAAAAA4D8AAAAAAADQPwAAAAAAAOg/AAAAAAAA4D8=\", \"dtype\": \"float64\", \"shape\": [4]}}, \"selected\": {\"id\": \"3531\", \"type\": \"Selection\"}, \"selection_policy\": {\"id\": \"3545\", \"type\": \"UnionRenderers\"}}, \"id\": \"3530\", \"type\": \"ColumnDataSource\"}, {\"attributes\": {\"grid_line_color\": null, \"ticker\": {\"id\": \"3484\", \"type\": \"BasicTicker\"}}, \"id\": \"3487\", \"type\": \"Grid\"}, {\"attributes\": {\"active_drag\": \"auto\", \"active_inspect\": \"auto\", \"active_multi\": null, \"active_scroll\": \"auto\", \"active_tap\": \"auto\", \"tools\": [{\"id\": \"3472\", \"type\": \"HoverTool\"}, {\"id\": \"3473\", \"type\": \"HoverTool\"}, {\"id\": \"3493\", \"type\": \"TapTool\"}]}, \"id\": \"3494\", \"type\": \"Toolbar\"}, {\"attributes\": {\"axis_label\": \"y\", \"axis_label_text_font_size\": {\"value\": \"10pt\"}, \"bounds\": \"auto\", \"formatter\": {\"id\": \"3501\", \"type\": \"BasicTickFormatter\"}, \"major_label_orientation\": \"horizontal\", \"ticker\": {\"id\": \"3489\", \"type\": \"BasicTicker\"}, \"visible\": false}, \"id\": \"3488\", \"type\": \"LinearAxis\"}, {\"attributes\": {}, \"id\": \"3489\", \"type\": \"BasicTicker\"}, {\"attributes\": {\"children\": [{\"id\": \"2836\", \"type\": \"Row\"}], \"margin\": [0, 0, 0, 0], \"name\": \"Row07301\"}, \"id\": \"2835\", \"type\": \"Row\"}, {\"attributes\": {\"fill_color\": {\"field\": \"node_color\", \"transform\": {\"id\": \"3502\", \"type\": \"CategoricalColorMapper\"}}, \"size\": {\"units\": \"screen\", \"value\": 15}}, \"id\": \"3506\", \"type\": \"Circle\"}, {\"attributes\": {\"callback\": null, \"margin\": [5, 10, 5, 10], \"title\": \"Value2\", \"value\": 3}, \"id\": \"2838\", \"type\": \"Spinner\"}, {\"attributes\": {\"size\": {\"units\": \"screen\", \"value\": 15}}, \"id\": \"3509\", \"type\": \"Circle\"}, {\"attributes\": {\"fill_alpha\": {\"value\": 0}, \"fill_color\": {\"value\": \"#30a2da\"}, \"line_alpha\": {\"value\": 0}, \"size\": {\"units\": \"screen\", \"value\": 10}, \"x\": {\"field\": \"x\"}, \"y\": {\"field\": \"y\"}}, \"id\": \"3533\", \"type\": \"Scatter\"}, {\"attributes\": {\"factors\": [\"active\", \"inactive\", \"next\"], \"palette\": [\"#5cb85c\", \"white\", \"yellow\"]}, \"id\": \"3502\", \"type\": \"CategoricalColorMapper\"}, {\"attributes\": {\"fill_alpha\": {\"value\": 0}, \"fill_color\": {\"value\": \"#30a2da\"}, \"line_alpha\": {\"value\": 0}, \"line_color\": {\"value\": \"black\"}, \"size\": {\"units\": \"screen\", \"value\": 10}, \"x\": {\"field\": \"x\"}, \"y\": {\"field\": \"y\"}}, \"id\": \"3534\", \"type\": \"Scatter\"}, {\"attributes\": {\"css_classes\": [\"markdown\"], \"margin\": [0, 0, 0, 5], \"name\": \"Markdown07105\", \"text\": \"&lt;h2&gt;Stage: Input&lt;/h2&gt;\"}, \"id\": \"2657\", \"type\": \"panel.models.markup.HTML\"}, {\"attributes\": {\"dimension\": 1, \"grid_line_color\": null, \"ticker\": {\"id\": \"3489\", \"type\": \"BasicTicker\"}}, \"id\": \"3492\", \"type\": \"Grid\"}, {\"attributes\": {\"code\": \"\\nvar state = null\\nfor (var root of cb_obj.document.roots()) {\\n  if (root.id == '2850') {\\n    state = root;\\n    break;\\n  }\\n}\\nif (!state) { return; }\\nstate.set_state(cb_obj, cb_obj.value)\\n\"}, \"id\": \"2851\", \"type\": \"CustomJS\"}, {\"attributes\": {\"children\": [{\"id\": \"2657\", \"type\": \"panel.models.markup.HTML\"}, {\"id\": \"2658\", \"type\": \"Spacer\"}, {\"id\": \"2659\", \"type\": \"Row\"}], \"margin\": [0, 0, 0, 0], \"name\": \"Row09936\"}, \"id\": \"2656\", \"type\": \"Row\"}, {\"attributes\": {\"fill_alpha\": {\"value\": 0}, \"fill_color\": {\"value\": \"limegreen\"}, \"line_alpha\": {\"value\": 0}, \"line_color\": {\"value\": \"black\"}, \"size\": {\"units\": \"screen\", \"value\": 10}, \"x\": {\"field\": \"x\"}, \"y\": {\"field\": \"y\"}}, \"id\": \"3535\", \"type\": \"Scatter\"}, {\"attributes\": {\"fill_alpha\": {\"value\": 0}, \"fill_color\": {\"value\": \"indianred\"}, \"line_alpha\": {\"value\": 0}, \"line_color\": {\"value\": \"black\"}, \"size\": {\"units\": \"screen\", \"value\": 10}, \"x\": {\"field\": \"x\"}, \"y\": {\"field\": \"y\"}}, \"id\": \"3536\", \"type\": \"Scatter\"}, {\"attributes\": {}, \"id\": \"3499\", \"type\": \"BasicTickFormatter\"}, {\"attributes\": {\"callback\": null, \"margin\": [5, 10, 5, 10], \"title\": \"Value1\", \"value\": 2}, \"id\": \"2837\", \"type\": \"Spinner\"}, {\"attributes\": {\"callback\": null, \"renderers\": [{\"id\": \"3537\", \"type\": \"GlyphRenderer\"}]}, \"id\": \"3493\", \"type\": \"TapTool\"}, {\"attributes\": {\"data_source\": {\"id\": \"3530\", \"type\": \"ColumnDataSource\"}, \"glyph\": {\"id\": \"3533\", \"type\": \"Scatter\"}, \"hover_glyph\": {\"id\": \"3536\", \"type\": \"Scatter\"}, \"muted_glyph\": null, \"nonselection_glyph\": {\"id\": \"3534\", \"type\": \"Scatter\"}, \"selection_glyph\": {\"id\": \"3535\", \"type\": \"Scatter\"}, \"view\": {\"id\": \"3538\", \"type\": \"CDSView\"}}, \"id\": \"3537\", \"type\": \"GlyphRenderer\"}, {\"attributes\": {\"callback\": null, \"renderers\": [{\"id\": \"3537\", \"type\": \"GlyphRenderer\"}], \"tags\": [\"hv_created\"], \"tooltips\": [[\"Stage\", \"@{Stage}\"], [\"State\", \"@{State}\"]]}, \"id\": \"3473\", \"type\": \"HoverTool\"}, {\"attributes\": {\"callback\": null, \"reset_end\": 1, \"reset_start\": 0, \"tags\": [[[\"y\", \"y\", null]]]}, \"id\": \"3471\", \"type\": \"Range1d\"}, {\"attributes\": {\"source\": {\"id\": \"3530\", \"type\": \"ColumnDataSource\"}}, \"id\": \"3538\", \"type\": \"CDSView\"}, {\"attributes\": {}, \"id\": \"3545\", \"type\": \"UnionRenderers\"}, {\"attributes\": {\"callback\": null, \"renderers\": [{\"id\": \"3518\", \"type\": \"GraphRenderer\"}], \"tags\": [\"hv_created\"], \"tooltips\": [[\"Stage\", \"@{index_hover}\"], [\"State\", \"@{State}\"]]}, \"id\": \"3472\", \"type\": \"HoverTool\"}, {\"attributes\": {\"callback\": null, \"data\": {\"State\": [\"active\", \"inactive\", \"next\", \"inactive\"], \"index\": {\"__ndarray__\": \"AAAAAAEAAAACAAAAAwAAAA==\", \"dtype\": \"int32\", \"shape\": [4]}, \"index_hover\": [\"Input\", \"Add\", \"Multiply\", \"Result\"], \"node_color\": [\"active\", \"inactive\", \"next\", \"inactive\"]}, \"selected\": {\"id\": \"3548\", \"type\": \"Selection\"}, \"selection_policy\": {\"id\": \"3547\", \"type\": \"UnionRenderers\"}}, \"id\": \"3503\", \"type\": \"ColumnDataSource\"}, {\"attributes\": {}, \"id\": \"3501\", \"type\": \"BasicTickFormatter\"}, {\"attributes\": {\"callback\": null, \"data\": {\"end\": {\"__ndarray__\": \"AgAAAAEAAAADAAAAAwAAAA==\", \"dtype\": \"int32\", \"shape\": [4]}, \"start\": {\"__ndarray__\": \"AAAAAAAAAAACAAAAAQAAAA==\", \"dtype\": \"int32\", \"shape\": [4]}}, \"selected\": {\"id\": \"3550\", \"type\": \"Selection\"}, \"selection_policy\": {\"id\": \"3549\", \"type\": \"UnionRenderers\"}}, \"id\": \"3504\", \"type\": \"ColumnDataSource\"}, {\"attributes\": {\"children\": [{\"id\": \"2661\", \"type\": \"Select\"}, {\"id\": \"2662\", \"type\": \"Button\"}], \"margin\": [0, 0, 0, 0], \"name\": \"Column08225\"}, \"id\": \"2660\", \"type\": \"Column\"}, {\"attributes\": {\"callback\": null, \"end\": 2.25, \"reset_end\": 2.25, \"reset_start\": -0.25, \"start\": -0.25, \"tags\": [[[\"x\", \"x\", null]]]}, \"id\": \"3470\", \"type\": \"Range1d\"}, {\"attributes\": {}, \"id\": \"3547\", \"type\": \"UnionRenderers\"}, {\"attributes\": {\"args\": {\"selected\": {\"id\": \"3531\", \"type\": \"Selection\"}}, \"code\": \"var data = {};\\ndata[\\\"index\\\"] = cb_obj[\\\"indices\\\"];\\n\\nfunction unique_events(events) {\\n  // Processes the event queue ignoring duplicate events\\n  // of the same type\\n  var unique = [];\\n  var unique_events = [];\\n  for (var i=0; i<events.length; i++) {\\n    var _tmpevent = events[i];\\n    event = _tmpevent[0];\\n    data = _tmpevent[1];\\n    if (unique_events.indexOf(event)===-1) {\\n      unique.unshift(data);\\n      unique_events.push(event);\\n      }\\n  }\\n  return unique;\\n}\\n\\nfunction process_events(comm_status) {\\n  // Iterates over event queue and sends events via Comm\\n  var events = unique_events(comm_status.event_buffer);\\n  for (var i=0; i<events.length; i++) {\\n    var data = events[i];\\n    var comm = window.PyViz.comms[data[\\\"comm_id\\\"]];\\n    comm.send(data);\\n  }\\n  comm_status.event_buffer = [];\\n}\\n\\nfunction on_msg(msg) {\\n  // Receives acknowledgement from Python, processing event\\n  // and unblocking Comm if event queue empty\\n  var metadata = msg.metadata;\\n  var comm_id = metadata.comm_id\\n  var comm_status = window.PyViz.comm_status[comm_id];\\n  if (comm_status.event_buffer.length) {\\n    process_events(comm_status);\\n    comm_status.blocked = true;\\n    comm_status.time = Date.now()+20;\\n  } else {\\n    comm_status.blocked = false;\\n  }\\n  comm_status.event_buffer = [];\\n  if ((metadata.msg_type == \\\"Ready\\\") && metadata.content) {\\n    console.log(\\\"Python callback returned following output:\\\", metadata.content);\\n  } else if (metadata.msg_type == \\\"Error\\\") {\\n    console.log(\\\"Python failed with the following traceback:\\\", metadata.traceback)\\n  }\\n}\\n\\n// Initialize Comm\\nif ((window.PyViz == undefined) || (window.PyViz.comm_manager == undefined)) { return }\\ncomm = window.PyViz.comm_manager.get_client_comm(\\\"2655\\\", \\\"505d62c6f4124e31b184d3b4d5672f18\\\", on_msg);\\nif (!comm) {\\n  return\\n}\\n\\n// Initialize event queue and timeouts for Comm\\nvar comm_status = window.PyViz.comm_status[\\\"505d62c6f4124e31b184d3b4d5672f18\\\"];\\nif (comm_status === undefined) {\\n  comm_status = {event_buffer: [], blocked: false, time: Date.now()}\\n  window.PyViz.comm_status[\\\"505d62c6f4124e31b184d3b4d5672f18\\\"] = comm_status\\n}\\n\\n// Add current event to queue and process queue if not blocked\\nvar event_name = cb_obj.event_name;\\nif (event_name === undefined) {\\n  // we are a widget not an event... fake a key.\\n  event_name = Object.keys(data).join(',');\\n}\\ndata['comm_id'] = \\\"505d62c6f4124e31b184d3b4d5672f18\\\";\\ntimeout = comm_status.time + 20000;\\nif ((comm_status.blocked && (Date.now() < timeout))) {\\n  comm_status.event_buffer.unshift([event_name, data]);\\n} else {\\n  comm_status.event_buffer.unshift([event_name, data]);\\n  setTimeout(function() { process_events(comm_status); }, 20);\\n  comm_status.blocked = true;\\n  comm_status.time = Date.now()+20;\\n}\\n\"}, \"id\": \"3539\", \"type\": \"CustomJS\"}, {\"attributes\": {\"margin\": [5, 5, 5, 5], \"name\": \"HSpacer09935\", \"sizing_mode\": \"stretch_width\"}, \"id\": \"2658\", \"type\": \"Spacer\"}, {\"attributes\": {}, \"id\": \"3548\", \"type\": \"Selection\"}, {\"attributes\": {\"source\": {\"id\": \"3504\", \"type\": \"ColumnDataSource\"}}, \"id\": \"3517\", \"type\": \"CDSView\"}]}"}